<!-- templates/tap_in.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Tap In</title>
</head>
<body>
    <h1>üöç Tap In</h1>
    <form method="POST" onsubmit="fillLocation()">
        <label for="card_id">Enter Card ID:</label>
        <input type="text" name="card_id" required><br><br>

        <input type="hidden" name="lat" id="lat">
        <input type="hidden" name="lon" id="lon">

        <button type="submit">Tap In</button>
    </form>

    <script>
        function fillLocation() {
            navigator.geolocation.getCurrentPosition(function(position) {
                document.getElementById('lat').value = position.coords.latitude;
                document.getElementById('lon').value = position.coords.longitude;
            });
        }
    </script>
</body>
</html>
